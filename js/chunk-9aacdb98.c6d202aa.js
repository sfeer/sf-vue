(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9aacdb98"],{"243c":function(t,e,n){"use strict";var s=n("960c"),i=n.n(s);i.a},"571f":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return a}));var s=n("b775");function i(){return s["b"].get("/templates")}function o(t){return s["b"].post("/publish/site",t)}function r(t){return s["b"].post("/save/site",t)}function c(){return s["b"].get("/sites")}function u(t){return s["b"].get("/site",{params:{id:t}})}function a(t){return s["b"].post("/init/site",t)}},"93fc":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("s-box-view",{attrs:{boxs:t.boxs,mode:"view"}})},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"boxs"},[t._l(t.showBoxs,(function(e){return n("div",{key:e.id,staticClass:"box",style:t.boxStyle(e)},[e.component?n(e.component.name,{tag:"component"}):t._e()],1)})),n("resize-observer",{on:{notify:t.handleResize}})],2)},r=[],c={name:"SBoxView",props:{boxs:{type:Array,default(){return[]}}},computed:{showBoxs(){return this.boxs.filter(t=>void 0===t.line)}},watch:{boxs(t,e){if(t.length>0&&0===e.length){const e=t.find(t=>void 0===t.parent);e.w=this.$el.clientWidth,this.resizeBox(e)}}},methods:{boxStyle(t){return{top:t.y+"px",left:t.x+"px",width:t.w+"px",height:t.h+"px"}},resizeBox(t){if(t.line){const e=t.line;if("v"===e.way){const n=Math.round(t.w*e.pc/100),s=this.boxs.filter(e=>e.parent===t.id).sort((t,e)=>t.x-e.x);s[0].x=t.x,s[0].y=t.y,s[0].w=n,s[0].h=t.h,this.resizeBox(s[0]),s[1].x=t.x+n,s[1].y=t.y,s[1].w=t.w-n,s[1].h=t.h,this.resizeBox(s[1])}else if("h"===e.way){const n=Math.round(t.h*e.pc/100),s=this.boxs.filter(e=>e.parent===t.id).sort((t,e)=>t.y-e.y);s[0].x=t.x,s[0].y=t.y,s[0].w=t.w,s[0].h=n,this.resizeBox(s[0]),s[1].x=t.x,s[1].y=t.y+n,s[1].w=t.w,s[1].h=t.h-n,this.resizeBox(s[1])}}},handleResize(){const t=this.boxs.find(t=>void 0===t.parent);t.w=this.$el.clientWidth,this.resizeBox(t)}}},u=c,a=(n("243c"),n("2877")),h=Object(a["a"])(u,o,r,!1,null,"1e21f2c6",null),x=h.exports,d=n("571f"),l={data(){return{siteId:"",boxs:[]}},components:{SBoxView:x},created(){this.siteId=this.$route.params.sid,console.log("site id",this.siteId),Object(d["a"])(this.siteId).then(t=>{0===t.errcode?this.boxs=t.data.boxs:this.$message.error(t.errmsg)})}},f=l,p=Object(a["a"])(f,s,i,!1,null,null,null);e["default"]=p.exports},"960c":function(t,e,n){}}]);