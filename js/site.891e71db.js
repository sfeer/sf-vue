(function(e){function t(t){for(var r,a,c=t[0],i=t[1],u=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={site:0},o={site:0},s=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1035b49a":"c4c2974d","chunk-2712d3b9":"11ecb762","chunk-2f0fed7b":"db1c8556","chunk-4cf0c5a2":"a37de1f3","chunk-92dd1006":"c41976ee","chunk-9aacdb98":"c6d202aa"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-1035b49a":1,"chunk-2712d3b9":1,"chunk-2f0fed7b":1,"chunk-4cf0c5a2":1,"chunk-92dd1006":1,"chunk-9aacdb98":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-1035b49a":"cd7c9032","chunk-2712d3b9":"6f16681e","chunk-2f0fed7b":"8a2d1ed5","chunk-4cf0c5a2":"23ce4487","chunk-92dd1006":"06284038","chunk-9aacdb98":"017b75ee"}[e]+".css",o=i.p+r,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],d=u.getAttribute("data-href");if(d===r||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],p.parentNode.removeChild(p),n(s)},p.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=c(e);var f=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/sf-vue/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var p=d;s.push([3,"ant-design-vue","chunk-vendors"]),n()})({"07fc":function(e,t,n){"use strict";n("dc5a");var r=n("56cd"),a=(n("3b18"),n("f64c")),o=(n("5704"),n("b558")),s=(n("0032"),n("e32c")),c=(n("de6a"),n("9a63")),i=(n("8fb1"),n("0c63")),u=(n("c119"),n("d865")),d=(n("b97c"),n("7571")),f=(n("c68a"),n("0020")),p=(n("cd17"),n("ed3b")),l=(n("f2ef"),n("3af3")),m=(n("2ef0"),n("9839")),b=(n("6ba6"),n("5efb")),g=n("8bbf"),h=n.n(g);n("3aed");h.a.use(b["a"]),h.a.use(m["b"]),h.a.use(l["a"]),h.a.use(p["a"]),h.a.use(f["a"]),h.a.use(d["a"]),h.a.use(u["a"]),h.a.use(i["a"]),h.a.use(c["a"]),h.a.use(s["a"]),h.a.use(o["a"]),h.a.prototype.$confirm=p["a"].confirm,h.a.prototype.$message=a["a"],h.a.prototype.$notification=r["a"],h.a.prototype.$info=p["a"].info,h.a.prototype.$success=p["a"].success,h.a.prototype.$error=p["a"].error,h.a.prototype.$warning=p["a"].warning},"14a0":function(e,t,n){"use strict";n.r(t);n("2d26"),n("96cf");var r=n("8bbf"),a=n.n(r),o=n("3dfd"),s=n("6389"),c=n.n(s);a.a.use(c.a);const i=[{path:"/site",component:()=>n.e("chunk-2712d3b9").then(n.bind(null,"9825"))},{path:"/site/init",component:()=>n.e("chunk-1035b49a").then(n.bind(null,"d615"))},{path:"/site/design/:sid",component:()=>n.e("chunk-92dd1006").then(n.bind(null,"2b83"))},{path:"/site/view/:sid",component:()=>n.e("chunk-9aacdb98").then(n.bind(null,"93fc"))}];const u=new c.a({mode:"history",base:"/sf-vue/",routes:i});var d=u,f=n("4360"),p=n("b775"),l=n("8d95"),m=n.n(l),b=(n("07fc"),n("6eb0"),n("252c"));a.a.component("Aa",()=>n.e("chunk-4cf0c5a2").then(n.bind(null,"8fd8"))),a.a.component("Bb",()=>n.e("chunk-2f0fed7b").then(n.bind(null,"f9f0"))),a.a.use(b["a"]),a.a.use(m.a,{namespace:"site__",name:"ls",storage:"local"});n("849a");a.a.config.productionTip=!1,a.a.use(p["a"]),new a.a({router:d,store:f["a"],render:e=>e(o["a"])}).$mount("#app")},"28e4":function(e,t,n){"use strict";n.r(t);var r=n("96eb"),a=n.n(r),o=n("8bbf"),s=n.n(o),c=n("ca00");const i=a.a.Random;i.guid();const u=[{id:i.increment(),name:"空白",group:"常用",img:i.dataImage("250x180"),boxs:[{id:"a2cbbcccb4a0456ebd5779ec7f693214",x:0,y:0,w:800,h:650}]},{id:i.increment(),name:"首页",group:"推荐",img:i.dataImage("250x180")},{id:i.increment(),name:"TBox",group:"推荐",img:i.dataImage("250x180"),boxs:[{id:"a2cbbcccb4a0456ebd5779ec7f69cda5",x:0,y:0,w:961,h:650}]},{id:i.increment(),name:"SBox",group:"推荐",img:i.dataImage("250x180")},{id:i.increment(),name:"门户网站",group:"北京",img:i.dataImage("250x180")},{id:i.increment(),name:"新闻详情",group:"北京",img:i.dataImage("250x180")}],d=s.a.ls.get("sites")||[];a.a.mock(/\/api\/templates/,"get",{errcode:0,data:u}),a.a.mock(/\/api\/publish\/site/,"post",e=>{const t=Object(c["b"])(e);if(t&&t.id){const e=d.find(e=>e.id===t.id);return e?(e.status="publish",s.a.ls.set("sites",d),{errcode:0,data:"published"}):{errcode:102,errmsg:"this site is not exist"}}return{errcode:101,errmsg:"param id is need"}}),a.a.mock(/\/api\/save\/site/,"post",e=>{const t=JSON.parse(e.body),n=d.find(e=>e.id===t.id);return n.name=t.name,n.utime=(new Date).getTime(),s.a.ls.set("sites",d),s.a.ls.set("site-"+t.id,t.boxs),{errcode:0,errmsg:"saved"}}),a.a.mock(/\/api\/sites/,"get",{errcode:0,data:s.a.ls.get("sites")||[]}),a.a.mock(/\/api\/template/,"get",e=>{const t=Object(c["b"])(e);if(t&&t.id){const e=u.find(e=>e.id===t.id);return e?{errcode:0,data:e}:{errcode:103,errmsg:"this template is not exist"}}return{errcode:101,errmsg:"param id is need"}}),a.a.mock(/\/api\/site/,"get",e=>{const t=Object(c["b"])(e);if(t&&t.id){const e=d.find(e=>e.id===t.id);return e?(e.boxs=s.a.ls.get("site-"+e.id)||[],{errcode:0,data:e}):{errcode:102,errmsg:"this site is not exist"}}return{errcode:101,errmsg:"param id is need"}}),a.a.mock(/\/api\/init\/site/,"post",e=>{const t=JSON.parse(e.body),n=i.uuid().replace(/-/g,"");return d.push({id:n,name:t.name,utime:(new Date).getTime(),ctime:(new Date).getTime()}),s.a.ls.set("sites",d),s.a.ls.set("site-"+n,t.boxs),{errcode:0,data:n}})},3:function(e,t,n){e.exports=n("14a0")},"3dfd":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=n("2877"),s={},c=Object(o["a"])(s,r,a,!1,null,null,null);t["a"]=c.exports},4360:function(e,t,n){"use strict";var r=n("8bbf"),a=n.n(r),o=n("5880"),s=n.n(o),c=n("b775");function i(e){return c["b"].get("/wx/get_user_info",{params:{code:e,agent:Object({NODE_ENV:"production",VUE_APP_PREVIEW:"true",VUE_APP_API_BASE_URL:"/api",VUE_APP_PAGES:"demo,flow,site",BASE_URL:"/sf-vue/"}).VUE_APP_WX_CP_AGENT}})}function u(e){return c["b"].get("/wx/user/get",{params:{userid:e}})}const d={state:{id:"",name:"",info:{}},mutations:{SET_ID:(e,t)=>{e.id=t},SET_NAME:(e,t)=>{e.name=t},SET_INFO:(e,t)=>{e.info=t}},actions:{GetUserId({dispatch:e,commit:t},n){return new Promise((t,r)=>{i(n).then(n=>{const r=n.data;e("GetUserInfo",r.userId),t(r)}).catch(e=>{r(e)})})},GetUserInfo({commit:e},t){return new Promise((n,r)=>{u(t).then(r=>{const o=r.data;a.a.ls.set("userId",t,864e5),e("SET_ID",t),e("SET_NAME",o.userName),e("SET_INFO",o),n(o)}).catch(e=>{r(e)})})},Logout({commit:e}){return new Promise(t=>{e("SET_ID",""),e("SET_NAME",""),e("SET_INFO",{}),a.a.ls.remove("userId")})}}};var f=d;a.a.use(s.a);t["a"]=new s.a.Store({state:{},mutations:{},actions:{},modules:{user:f},getters:{token:e=>e.user.token,userName:e=>e.user.name,userId:e=>e.user.id,userInfo:e=>e.user.info}})},5880:function(e,t){e.exports=Vuex},6389:function(e,t){e.exports=VueRouter},"849a":function(e,t,n){{const e=n("96eb");n("28e4"),e.setup({timeout:800}),console.log("[mockjs]","模拟数据加载完毕")}},"8bbf":function(e,t){e.exports=Vue},"8d95":function(e,t){e.exports=VueStorage},b775:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("cebe"),a=n.n(r),o=n("8bbf"),s=n.n(o);const c=a.a.create({baseURL:"/api",timeout:6e3});c.interceptors.request.use(e=>{const t=s.a.ls.get("token");return t&&(e.headers["token"]=t),e}),c.interceptors.response.use(e=>e.data);const i={vm:{},install(e){e.axios=c,Object.defineProperties(e.prototype,{axios:{get:function(){return c}},$http:{get:function(){return c}}})}}},ca00:function(e,t,n){"use strict";function r(e,t){const n=[e.x,e.x+e.w,t.x,t.x+t.w];return n.sort((e,t)=>e-t),n[1]/2+n[2]/2}function a(e,t){const n=[e.y,e.y+e.h,t.y,t.y+t.h];return n.sort((e,t)=>e-t),n[1]/2+n[2]/2}n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));const o=e=>{const t=e.url,n=t.split("?")[1];return n?JSON.parse('{"'+decodeURIComponent(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}};function s(e){const t=new Date(e),n=t.getFullYear(),r=("00"+(t.getMonth()+1)).slice(-2),a=("00"+t.getDate()).slice(-2),o=("00"+t.getHours()).slice(-2),s=("00"+t.getMinutes()).slice(-2),c=("00"+t.getSeconds()).slice(-2);return`${n}-${r}-${a} ${o}:${s}:${c}`}function c(e){const t=new Date(e),n=("00"+t.getHours()).slice(-2),r=("00"+t.getMinutes()).slice(-2),a=("00"+t.getSeconds()).slice(-2);return`${n}:${r}:${a}`}},cebe:function(e,t){e.exports=axios}});